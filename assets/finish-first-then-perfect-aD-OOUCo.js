import{_ as d}from"./ValaxyMain.vue_vue_type_style_index_0_lang-CBf5hEqz.js";import{a as p,p as i,o as l,c,w as t,f as h,q as u,r as a,g as s}from"./app-BZDWLfP1.js";import"./YunFooter.vue_vue_type_script_setup_true_lang-Be0Mb7hY.js";import"./YunCard.vue_vue_type_script_setup_true_lang-Dhwia5MJ.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang-Bqy1HhVw.js";import"./index-C7yU5XnD.js";const g=s("p",null,"今天做一个心跳包的功能时，我跟客户端说用普通的二进制流响应给他，他说他的 websocket 都是走的一套处理流程，全部用 proto 编码。如果用 proto 编码，我在底层框架，每次都要解码发送的数据，校验这个包是不是心跳包。我说那么协议里面，加一个字节标识这个包是数据包还是心跳包，他也懒得改协议，说坚决不动，因为他改起来很麻烦。",-1),$=s("p",null,"经过一番讨论后，结果就是，拿一个特殊路由，标识心跳包，不去改协议。我妥协了，但其实我并不满意这种做法，给特殊的路由，本质上就是侵入了业务路由层，心跳包跟业务是无关的。在协议部分，还会进行 proto 编码解码，本身这种事应该放在分发器里去做。",-1),v=s("p",null,"互相尊重吧，有时，完成比完美更重要，只要大方向对，无关紧要的小细节可以放放。没什么办法，总不能因为这种事吵起来吧，不值当。我想开窗，我就不能提开窗，我要说开门。然后，他就会同意在墙上开窗了。",-1),y={__name:"finish-first-then-perfect",setup(_,{expose:m}){const o=JSON.parse('{"title":"先完成，再完美","description":"","frontmatter":{"title":"先完成，再完美","date":"2023-11-09T00:00:00.000Z","updated":"2023-11-09T00:00:00.000Z","categories":"朝花夕拾","hide":"index"},"headers":[],"relativePath":"pages/posts/finish-first-then-perfect.md","path":"/home/runner/work/guowei-gong.github.io/guowei-gong.github.io/pages/posts/finish-first-then-perfect.md","lastUpdated":1718246058000}'),r=p(),n=o.frontmatter||{};return r.meta.frontmatter=Object.assign(r.meta.frontmatter||{},o.frontmatter||{}),i("pageData",o),i("valaxy:frontmatter",n),globalThis.$frontmatter=n,m({frontmatter:{title:"先完成，再完美",date:"2023-11-09T00:00:00.000Z",updated:"2023-11-09T00:00:00.000Z",categories:"朝花夕拾",hide:"index"}}),(e,w)=>{const f=d;return l(),c(f,{frontmatter:h(n)},{"main-content-md":t(()=>[g,$,v,u(" more ")]),"main-header":t(()=>[a(e.$slots,"main-header")]),"main-header-after":t(()=>[a(e.$slots,"main-header-after")]),"main-nav":t(()=>[a(e.$slots,"main-nav")]),"main-content":t(()=>[a(e.$slots,"main-content")]),"main-content-after":t(()=>[a(e.$slots,"main-content-after")]),"main-nav-before":t(()=>[a(e.$slots,"main-nav-before")]),"main-nav-after":t(()=>[a(e.$slots,"main-nav-after")]),comment:t(()=>[a(e.$slots,"comment")]),footer:t(()=>[a(e.$slots,"footer")]),aside:t(()=>[a(e.$slots,"aside")]),"aside-custom":t(()=>[a(e.$slots,"aside-custom")]),default:t(()=>[a(e.$slots,"default")]),_:3},8,["frontmatter"])}}};export{y as default};
